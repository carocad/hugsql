/**
* Automatically generated by HugSql ðŸ¤—
* {{ date }}
*/

const util = require('util');

/**
 * Hooks on a MySql connection or pool for future query executions
 * @param {MySql.Connection} connection // TODO
 */
module.exports = (connection) => ({
{{#sections}}
{{&docstring}}
{{functionName}}: ({{parameters}}) => {
    const query = `{{&query}}`;
    const parameters = [{{sortedParameters}}];
    // https://2ality.com/2017/05/util-promisify.html
    const promisify = util.promisify(connection.query.bind(connection));
    // returns an object as {results, fields}
    return promisify(query, parameters);
},

{{/sections}}
})
